<nav class="navbar">
  <div class="navbar-brand">
    <span class="brand-icon"><img src="Hotel.png" alt="Hotel Paradise" class="brand-logo"></span>
    <span>Hotel Paradise</span>
  </div>
  
  <!-- Botón hamburguesa para móvil -->
  <button class="mobile-menu-toggle" (click)="toggleMobileMenu()" [class.active]="showMobileMenu">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>

  <!-- Overlay para cerrar el menú móvil -->
  <div class="mobile-overlay" *ngIf="showMobileMenu" (click)="closeMobileMenu()"></div>

  <ul class="navbar-links" [class.mobile-open]="showMobileMenu">
    <li><a href="#inicio" (click)="scrollToTop(); closeMobileMenu()">Inicio</a></li>
    <li><a href="#servicios" (click)="closeMobileMenu()">Servicios</a></li>
    <li><a href="#contacto" (click)="closeMobileMenu()">Contacto</a></li>
    <li *ngIf="!isAuthenticated">
      <a href="register/" (click)="closeMobileMenu(); closeMobileMenu()">Registrarse</a>
      <a href="login/" (click)="closeMobileMenu(); closeMobileMenu()">Iniciar Sesion</a>
      <!-- <a class="auth-link register" href="register/" (click)="navigateToRegister(); closeMobileMenu()">Registrarse</a> -->
    </li>
    <li *ngIf="!isAuthenticated">
      <!-- <a class="auth-link login" href="login/" (click)="navigateToLogin(); closeMobileMenu()">Iniciar Sesión</a> -->
    </li>
    
    <li *ngIf="isAuthenticated" class="user-menu">
      <!-- <div class="notification-bell" (click)="toggleNotifications()">
        <span class="bell-icon"><i class="fas fa-bell"></i></span>
        <span class="notification-count" *ngIf="totalNotifications > 0">{{ totalNotifications }}</span>
      </div> -->
      <div class="user-actions">
        <span class="user-name">{{ currentUser?.nombre }}</span>
        <a class="dashboard-link" href="#" (click)="navigateToDashboard(); closeMobileMenu(); $event.preventDefault()">Panel de Control</a>
        <a class="logout-link" href="login/" (click)="logout(); closeMobileMenu()">Salir</a>
      </div>
    </li>
  </ul> 

  <!-- Panel de notificaciones -->
  <div class="notifications-panel" *ngIf="showNotifications && isAuthenticated">
    <div class="notifications-header">
      <h4>Notificaciones</h4>
      <button class="close-notifications" (click)="toggleNotifications()">×</button>
    </div>
    <div class="notifications-content">
      <div class="notification-item" *ngFor="let notification of notifications" 
           (click)="executeNotificationAction(notification)"
           [class.clickable]="notification.action">
        <div class="notification-icon" [ngClass]="notification.type">{{ notification.icon }}</div>
        <div class="notification-text">
          <div class="notification-title">{{ notification.title }}</div>
          <div class="notification-description">{{ notification.description }}</div>
        </div>
        <div class="notification-time">{{ notification.time }}</div>
        <div class="notification-arrow" *ngIf="notification.action">→</div>
      </div>
      <div class="no-notifications" *ngIf="notifications.length === 0">
        <p>No hay notificaciones nuevas</p>
      </div>
    </div>
  </div>
</nav>

<div class="homepage">
  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="hero-text">
        <h1 class="hero-title">Hotel Paradise</h1>
        <p class="hero-subtitle">
          Experiencia hotelera excepcional con servicios de lujo y comodidad incomparable
        </p>
        <div class="hero-actions">
          <button class="btn-primary" (click)="navigateToBuscarHabitaciones()">
            <span class="btn-icon"><i class="fas fa-search"></i></span>
            Buscar Habitaciones
          </button>
          <button class="btn-secondary" (click)="navigateToCalendario()">
            <span class="btn-icon"><i class="fas fa-calendar-alt"></i></span>
            Ver Disponibilidad
          </button>
        </div>
      </div>
      <div class="hero-visual">
        <div class="floating-card">
          <!-- Burbujitas doradas animadas -->
          <div class="bubble-1"></div>
          <div class="bubble-2"></div>
          <div class="bubble-3"></div>
          <div class="bubble-4"></div>
          <div class="bubble-5"></div>
          <div class="bubble-6"></div>
          
          <div class="">
            <h3>Estadísticas</h3>
          </div>
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number">{{ statsData.hoteles }}</div>
              <div class="stat-label">Hoteles</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{ statsData.reservas }}</div>
              <div class="stat-label">Reservas</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{ statsData.clientes }}</div>
              <div class="stat-label">Clientes</div>
            </div>
            <div class="stat-item">
              <div class="stat-number">{{ statsData.ingresos }}</div>
              <div class="stat-label">Ingresos</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Botones rápidos -->
  <section class="quick-buttons-container">
    <div class="quick-buttons-wrapper">
      <div class="feature-circle" data-tooltip="Servicio Premium">
        <span class="feature-icon"><i class="fas fa-star"></i></span>
        <div class="custom-tooltip">
          <div class="tooltip-content">
            <span class="tooltip-title">Servicio Premium</span>
            <span class="tooltip-description">Atención personalizada 24/7</span>
          </div>
          <div class="tooltip-arrow"></div>
        </div>
      </div>
      <div class="feature-circle" data-tooltip="Instalaciones de Lujo">
        <span class="feature-icon"><i class="fas fa-swimming-pool"></i></span>
        <div class="custom-tooltip">
          <div class="tooltip-content">
            <span class="tooltip-title">Instalaciones de Lujo</span>
            <span class="tooltip-description">Piscina, spa y gimnasio premium</span>
          </div>
          <div class="tooltip-arrow"></div>
        </div>
      </div>
      <div class="feature-circle" data-tooltip="Gastronomía Exclusiva">
        <span class="feature-icon"><i class="fas fa-utensils"></i></span>
        <div class="custom-tooltip">
          <div class="tooltip-content">
            <span class="tooltip-title">Gastronomía Exclusiva</span>
            <span class="tooltip-description">Chefs internacionales y cocina gourmet</span>
          </div>
          <div class="tooltip-arrow"></div>
        </div>
      </div>
    </div>
  </section>
<br>
  <!-- Services Section -->
  <section class="features" id="servicios">
    <div class="container">
  <h2 class="section-title text-black">Nuestros Servicios</h2>
  <div class="section-subtitle text-black">Descubra las soluciones integrales para la gestión hotelera</div>
      
      <div class="features-grid">
        <!-- Reservas -->
        <div class="feature-card" (click)="navigateToService('reservas')">
          <div class="card-icon-wrapper">
            <div class="feature-icon-large"><i class="fas fa-hotel"></i></div>
          </div>
          <div class="card-content">
            <h3>Gestión de Reservas</h3>
            <p>Sistema completo para administrar reservas de habitaciones, salones de eventos y servicios especiales.</p>
            <div class="service-highlights">
              <span class="service-tag">{{ currentStats.reservasPendientes }} Pendientes</span>
              <span class="service-tag">{{ currentStats.reservasConfirmadas }} Confirmadas</span>
            </div>
            <div class="feature-action">
              <span class="action-text">Gestionar Reservas</span>
              <span class="action-arrow">→</span>
            </div>
          </div>
        </div>

        <!-- Habitaciones -->
        <div class="feature-card" (click)="navigateToService('habitaciones')">
          <div class="card-icon-wrapper">
            <div class="feature-icon-large"><i class="fas fa-bed"></i></div>
          </div>
          <div class="card-content">
            <h3>Habitaciones</h3>
            <p>Gestión de habitaciones disponibles y ocupación en tiempo real.</p>
            <div class="service-highlights">
              <span class="service-tag">Disponibilidad</span>
              <span class="service-tag">Ocupación</span>
            </div>
            <div class="feature-action">
              <span class="action-text">Ver Habitaciones</span>
              <span class="action-arrow">→</span>
            </div>
          </div>
        </div>

        <!-- Hoteles -->
        <div class="feature-card" (click)="navigateToService('hoteles')">
          <div class="card-icon-wrapper">
            <div class="feature-icon-large"><i class="fas fa-building"></i></div>
          </div>
          <div class="card-content">
            <h3>Gestión de Hoteles</h3>
            <p>Administra tu cadena hotelera desde un solo lugar.</p>
            <div class="service-highlights">
              <span class="service-tag">{{ currentStats.totalHoteles }} Hoteles</span>
              <span class="service-tag">Multi-sede</span>
            </div>
            <div class="feature-action">
              <span class="action-text">Administrar</span>
              <span class="action-arrow">→</span>
            </div>
          </div>
        </div>

        <!-- Reportes -->
        <div class="feature-card" (click)="navigateToService('reportes')">
          <div class="card-icon-wrapper">
            <div class="feature-icon-large"><i class="fas fa-chart-bar"></i></div>
          </div>
          <div class="card-content">
            <h3>Reportes y Estadísticas</h3>
            <p>Análisis completo del rendimiento de tu negocio hotelero.</p>
            <div class="service-highlights">
              <span class="service-tag">Analíticas</span>
              <span class="service-tag">Ingresos</span>
            </div>
            <div class="feature-action">
              <span class="action-text">Ver Reportes</span>
              <span class="action-arrow">→</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Sección de Contacto -->
  <section class="contact" id="contacto">
    <div class="container">
      <h2 class="section-title">Contáctenos</h2>
      <p class="contact-subtitle">Estamos aquí para responder cualquier consulta sobre nuestros servicios de gestión hotelera</p>
      
      <div class="contact-grid">
        <!-- Teléfono -->
        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-phone-alt"></i>
          </div>
          <h3 class="contact-title">Llámenos</h3>
          <p class="contact-info">+57 123 456 7890<br>Lun - Vie: 8:00 - 18:00</p>
          <a href="tel:+573211234567" class="contact-button">Llamar ahora</a>
        </div>
        
        <!-- Email -->
        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <h3 class="contact-title">Escríbanos</h3>
          <p class="contact-info">info&#64;hotelparadise.com<br>Respuesta en 24 horas</p>
          <a href="mailto:info&#64;hotelparadise.com" class="contact-button">Enviar email</a>
        </div>
        
        <!-- Ubicación -->
        <div class="contact-card">
          <div class="contact-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <h3 class="contact-title">Visítenos</h3>
          <p class="contact-info">Calle Principal #123<br>Belén, Mexico</p>
          <button (click)="openMapModal()" class="contact-button">Ver mapa</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer Elegante y Completo -->
  <footer class="footer-elegante">
    <div class="footer-container">
      <div class="footer-row">
        <div class="footer-brand">
          <img src="Hotel.png" alt="Hotel Paradise" class="footer-logo">
          <span class="footer-title">Hotel Paradise</span>
        </div>
        <div class="footer-links">
          <a href="terminos-condiciones" class="footer-link">Términos y Condiciones</a>
          <span class="separator">|</span>
          <a href="politica-privacidad" class="footer-link">Política de Privacidad</a>
          <span class="separator">|</span>
          <a href="tratamiento-datos" class="footer-link">Tratamiento de Datos</a>
        </div>
      </div>
      <div class="footer-row">
        <div class="footer-copyright">
          &copy; 2025 Hotel Paradise S.A. de C.V. &mdash; Todos los derechos reservados
        </div>
        <div class="footer-cert">
          <span class="footer-badge"><i class="fas fa-shield-alt"></i> Datos protegidos</span>
          <span class="footer-badge"><i class="fas fa-headset"></i> Soporte 24/7</span>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- Modal de Mapa Lazy -->
<div class="map-modal-overlay" *ngIf="showMapModal" (click)="closeMapModal()">
  <div class="map-modal-content" (click)="$event.stopPropagation()">
    <div class="map-modal-header">
      <h3>Nuestra Ubicación</h3>
      <button class="close-btn" (click)="closeMapModal()">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="map-modal-body">
      <div class="map-info">
        <p><strong>Hotel Paradise</strong></p>
        <p>Calle Principal #123, Belén, Mexico</p>
      </div>
      
      <!-- Mapa lazy cargado solo cuando se abre el modal -->
      <div class="map-container" *ngIf="mapLoaded">
        <iframe 
          [src]="mapUrl" 
          width="100%" 
          height="300" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade">
        </iframe>
      </div>
      
      <!-- Indicador de carga -->
      <div class="map-loading" *ngIf="!mapLoaded">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Cargando mapa...</p>
      </div>
      
      <div class="map-actions">
        <a href="https://maps.app.goo.gl/rWA4bcw5wwK81jPJA" target="_blank" class="external-map-btn">
          <i class="fas fa-external-link-alt"></i>
          Abrir en Google Maps
        </a>
      </div>
    </div>
  </div>
</div>